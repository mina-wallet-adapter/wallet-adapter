var T=Object.create,b=Object.defineProperty,k=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyNames,G=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,L=(t,e)=>function(){return e||(0,t[N(t)[0]])((e={exports:{}}).exports,e),e.exports},D=(t,e,r,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let p of N(e))!I.call(t,p)&&p!==r&&b(t,p,{get:()=>e[p],enumerable:!(c=k(e,p))||c.enumerable});return t},K=(t,e,r)=>(r=t!=null?T(G(t)):{},D(e||!t||!t.__esModule?b(r,"default",{value:t,enumerable:!0}):r,t)),U=L({"../../../../node_modules/eventemitter3/index.js"(t,e){var r=Object.prototype.hasOwnProperty,c="~";function p(){}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(c=!1));function _(a,s,o){this.fn=a,this.context=s,this.once=o||!1}function V(a,s,o,i,f){if(typeof o!="function")throw new TypeError("The listener must be a function");var d=new _(o,i||a,f),u=c?c+s:s;return a._events[u]?a._events[u].fn?a._events[u]=[a._events[u],d]:a._events[u].push(d):(a._events[u]=d,a._eventsCount++),a}function W(a,s){--a._eventsCount===0?a._events=new p:delete a._events[s]}function h(){this._events=new p,this._eventsCount=0}h.prototype.eventNames=function(){var s=[],o,i;if(this._eventsCount===0)return s;for(i in o=this._events)r.call(o,i)&&s.push(c?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(o)):s},h.prototype.listeners=function(s){var o=c?c+s:s,i=this._events[o];if(!i)return[];if(i.fn)return[i.fn];for(var f=0,d=i.length,u=new Array(d);f<d;f++)u[f]=i[f].fn;return u},h.prototype.listenerCount=function(s){var o=c?c+s:s,i=this._events[o];return i?i.fn?1:i.length:0},h.prototype.emit=function(s,o,i,f,d,u){var g=c?c+s:s;if(!this._events[g])return!1;var n=this._events[g],y=arguments.length,A,l;if(n.fn){switch(n.once&&this.removeListener(s,n.fn,void 0,!0),y){case 1:return n.fn.call(n.context),!0;case 2:return n.fn.call(n.context,o),!0;case 3:return n.fn.call(n.context,o,i),!0;case 4:return n.fn.call(n.context,o,i,f),!0;case 5:return n.fn.call(n.context,o,i,f,d),!0;case 6:return n.fn.call(n.context,o,i,f,d,u),!0}for(l=1,A=new Array(y-1);l<y;l++)A[l-1]=arguments[l];n.fn.apply(n.context,A)}else{var x=n.length,E;for(l=0;l<x;l++)switch(n[l].once&&this.removeListener(s,n[l].fn,void 0,!0),y){case 1:n[l].fn.call(n[l].context);break;case 2:n[l].fn.call(n[l].context,o);break;case 3:n[l].fn.call(n[l].context,o,i);break;case 4:n[l].fn.call(n[l].context,o,i,f);break;default:if(!A)for(E=1,A=new Array(y-1);E<y;E++)A[E-1]=arguments[E];n[l].fn.apply(n[l].context,A)}}return!0},h.prototype.on=function(s,o,i){return V(this,s,o,i,!1)},h.prototype.once=function(s,o,i){return V(this,s,o,i,!0)},h.prototype.removeListener=function(s,o,i,f){var d=c?c+s:s;if(!this._events[d])return this;if(!o)return W(this,d),this;var u=this._events[d];if(u.fn)u.fn===o&&(!f||u.once)&&(!i||u.context===i)&&W(this,d);else{for(var g=0,n=[],y=u.length;g<y;g++)(u[g].fn!==o||f&&!u[g].once||i&&u[g].context!==i)&&n.push(u[g]);n.length?this._events[d]=n.length===1?n[0]:n:W(this,d)}return this},h.prototype.removeAllListeners=function(s){var o;return s?(o=c?c+s:s,this._events[o]&&W(this,o)):(this._events=new p,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,typeof e<"u"&&(e.exports=h)}}),P="mina:mainnet",C="mina:devnet",S="mina:berkeley",F=[P,C,S],Q=K(U(),1),Y=Q.default,O={Mainnet:P,Devnet:C,Berkeley:S},v=(t=>(t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported",t))(v||{}),B=class extends Y{get connected(){return!!this.account}get publicKey(){return this.account?this.account.address:null}get chain(){return null}async autoConnect(){await this.connect()}scopePollingDetectionStrategy(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function r(){if(t())for(const _ of e)_()}const c=setInterval(r,1e3);e.push(()=>clearInterval(c)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",r))),document.readyState!=="complete"&&(window.addEventListener("load",r,{once:!0}),e.push(()=>window.removeEventListener("load",r))),r()}},w=class extends Error{constructor(t,e){super(t),this.error=e}},j=class extends w{constructor(){super(...arguments),this.name="WalletNotReadyError"}},H=class extends w{constructor(){super(...arguments),this.name="WalletConnectionError"}},M=class extends w{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},J=class extends w{constructor(){super(...arguments),this.name="WalletSignMessageError"}},X=class extends w{constructor(){super(...arguments),this.name="WalletSignAndSendTransactionError"}},m=class extends w{constructor(){super(...arguments),this.name="WalletNotSupportedMethodError"}},Z="Auro",R=class extends B{constructor(t={}){super(),this.name=Z,this.url="https://www.aurowallet.com/",this.icon="data:image/png;base64,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",this._readyState=typeof window>"u"||typeof document>"u"?v.Unsupported:v.NotDetected,this._accountsChanged=async e=>{e&&e.length?(this._publicKey=e[0],this._account={address:this._publicKey,publicKey:new Uint8Array,chains:F,features:[]},this.emit("connect",this._account),this._legacyAuro.requestNetwork().then(r=>this._chainChanged(r))):(this._publicKey=null,this._account=null,this.emit("disconnect"))},this._chainChanged=({chainId:e})=>{const r=e==="mainnet"?O.Mainnet:e==="berkeley"?O.Berkeley:O.Devnet;this._chain=r,this.emit("chainChange",r)},this._connecting=!1,this._publicKey=null,this._account=null,this._readyState!==v.Unsupported&&this.scopePollingDetectionStrategy(()=>window.auro?.isAuro||window.mina?.isAuro?(this._legacyAuro=window?.mina,this._readyState=v.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get account(){return this._account}get connecting(){return this._connecting}get connected(){return!!this._publicKey}get readyState(){return this._readyState}get chain(){return this._chain}set chain(t){if(t){const e=t===O.Mainnet?"mainnet":t===O.Berkeley?"berkeley":"devnet",r=this._legacyAuro;if(!r)throw new M;r.switchChain({chainId:e}).then(()=>{r.requestNetwork().then(c=>this._chainChanged(c))})}else this._chain=null}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==v.Installed)throw new j;this._connecting=!0,this._legacyAuro.on("chainChanged",this._chainChanged),this._legacyAuro.on("accountsChanged",this._accountsChanged);try{await this._legacyAuro.requestAccounts().then(t=>this._accountsChanged(t))}catch(t){throw new H(t?.message,t)}}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){this._legacyAuro.off("chainChanged",this._chainChanged),this._legacyAuro.off("accountsChanged",this._accountsChanged),this._publicKey=null,this._chain=null,this._account=null,this.emit("disconnect")}async signMessage(t){try{const e=this._legacyAuro;if(!e)throw new M;try{return await e.signMessage({message:t})}catch(r){throw new J(r?.message,r)}}catch(e){throw this.emit("error",e),e}}async signTransaction(t){throw new m("'signTransaction' is not supported. Use 'signAndSendTransaction' instead.")}async sendTransaction(t){throw new m("'sendTransaction' is not supported. Use 'signAndSendTransaction' instead.")}async signAndSendTransaction(t){try{const e=this._legacyAuro;if(!e)throw new M;try{const{hash:r}=await e.sendTransaction({transaction:t});return r}catch(r){throw new X(r?.message,r)}}catch(e){throw this.emit("error",e),e}}};export{R as AuroWalletAdapter,Z as AuroWalletName};
